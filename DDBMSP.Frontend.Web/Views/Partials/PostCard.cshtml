@using System.Linq
@using DDBMSP.Interfaces.PODs.Article.Components
@using Orleans

@model IArticleData

<article class="post-card post @(Model.Image == null ? "no-image" : null)">
    @if (Model.Image != null)
    {
        <a class="post-card-image-link" href="@Model.Id">
            <div class="post-card-image" style="background-image: url(@Model.Image)"></div>
        </a>
    }
    
    <div class="post-card-content">
        <a class="post-card-content-link" href="/post/@Model.Id">
            <header class="post-card-header">
                @if (Model.Tags != null && Model.Tags.Any())
                {
                    <span class="post-card-tags">@Model.Tags.First()</span>
                }
                <h2 class="post-card-title">@Model.Title</h2>
            </header>
            <section class="post-card-excerpt">
                <p>@Model.Abstract</p>
            </section>
        </a>
        <footer class="post-card-meta">
            @*
            {{#if author.profile_image}}
            <img class="author-profile-image" src="{{author.profile_image}}" alt="{{author.name}}"/>
            {{/if}}
            *@
            <span class="post-card-author"><a href="/author/@Model.Author.GetPrimaryKey()/">@Model.AuthorName</a></span>
        </footer>
    </div>
</article>
